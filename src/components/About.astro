---
interface TimelineItem {
  title: string;
  period: string;
  location: string;
  description: string;
  type: "education" | "work";
}

const timeline: TimelineItem[] = [
  {
    title: "Concepteur développeur d'applications (spé. IA)",
    period: "2024 – 2026",
    location: "Fabrique Numérique Paloise",
    description: "Gestion de projet, développement d'applications, cybersécurité, intelligence artificielle.",
    type: "education",
  },
  {
    title: "Formation DWWM",
    period: "2023",
    location: "Titre Professionnel Développeur Web et Web Mobile",
    description: "Formation intensive de 6 mois en développement full-stack. Front-end, back-end, bases de données, gestion de projet, SEO.",
    type: "education",
  },
  {
    title: "Vendeur multimédia",
    period: "2012 – 2024",
    location: "E.Leclerc Mourenx",
    description: "Accueil, vente, conseil clientèle, gestion des stocks, commandes, mise en valeur des rayons, négociation fournisseurs, gestion SAV, livraisons.",
    type: "work",
  },
  {
    title: "Licence Commerce et logistique de distribution",
    period: "2012",
    location: "IUT de Bayonne",
    description: "Licence bilingue espagnol. Stage de 4 mois comme commercial à Buenos Aires, Argentine.",
    type: "education",
  },
  {
    title: "BTS Management des unités commerciales",
    period: "2011",
    location: "Lycée Gaston Fébus, Orthez",
    description: "Stage de 4 mois chez Conforama en tant que vendeur multimédia.",
    type: "education",
  },
  {
    title: "Bac Économique et Social",
    period: "2007",
    location: "Lycée Albert Camus, Mourenx",
    description: "",
    type: "education",
  },
];
---

<section id="about">
  <h2 class="section-title">Parcours</h2>
  <div class="timeline">
    {timeline.map((item, i) => (
      <div class="timeline-item fade-up">
        <div class="timeline-dot">
          {item.type === "work" ? (
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
          ) : (
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 10v6M2 10l10-5 10 5-10 5z"/><path d="M6 12v5c3 3 10 3 12 0v-5"/></svg>
          )}
        </div>
        <div class="timeline-content">
          <div class="timeline-header">
            <h3 class="timeline-title">{item.title}</h3>
            <span class="timeline-period">{item.period}</span>
          </div>
          <p class="timeline-location">{item.location}</p>
          {item.description && (
            <p class="timeline-desc">{item.description}</p>
          )}
        </div>
      </div>
    ))}
  </div>
</section>

<style>
  #about {
    padding: 5rem 1.5rem;
    max-width: 720px;
    margin: 0 auto;
  }

  .timeline {
    position: relative;
    padding-left: 2rem;
  }
  .timeline::before {
    content: "";
    position: absolute;
    left: 6px;
    top: 0;
    bottom: 0;
    width: 1px;
    background: var(--border);
  }

  .timeline-item {
    position: relative;
    padding-bottom: 2.5rem;
  }
  .timeline-item:last-child {
    padding-bottom: 0;
  }

  .timeline-dot {
    position: absolute;
    left: -2rem;
    top: 0.125rem;
    width: 13px;
    height: 13px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    z-index: 1;
  }
  .timeline-dot::before {
    content: "";
    position: absolute;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: var(--bg);
    border: 2px solid var(--border-light);
    z-index: -1;
  }

  .timeline-dot svg {
    display: none;
  }

  .timeline-content {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 1.25rem 1.5rem;
    transition: border-color var(--transition);
  }
  .timeline-content:hover {
    border-color: var(--border-light);
  }

  .timeline-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 0.25rem;
  }

  .timeline-title {
    font-size: 0.9375rem;
    font-weight: 600;
    color: var(--text);
    line-height: 1.4;
  }

  .timeline-period {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--accent);
    white-space: nowrap;
    padding: 0.125rem 0.625rem;
    border-radius: 100px;
    background: var(--accent-subtle);
    border: 1px solid rgba(59, 130, 246, 0.15);
    flex-shrink: 0;
  }

  .timeline-location {
    font-size: 0.8125rem;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
  }

  .timeline-desc {
    font-size: 0.8125rem;
    color: var(--text-muted);
    line-height: 1.6;
  }

  @media (max-width: 640px) {
    .timeline-header {
      flex-direction: column;
      gap: 0.5rem;
    }
  }
</style>
