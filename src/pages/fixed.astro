---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import HeroFixed from '../components/HeroFixed.astro';
import AboutFixed from '../components/AboutFixed.astro';
---

<Layout title="Portfolio Corrigé - Christophe Mostefaoui">
  <Navigation />
  <main id="main-content">
    <HeroFixed />
    <AboutFixed />
    
    <!-- Section Skills simplifiée -->
    <section id="skills">
      <h2 class="section-title">Mes Compétences</h2>
      
      <div class="skills-container">
        <div class="speech-bubble" data-aos="fade-up" data-aos-delay="200">
          <div class="intro-text">
            <p>
              Au cours de mes formations, j'ai acquis une bonne expertise en
              front-end, maîtrisant HTML, CSS, JavaScript, TypeScript, ainsi
              que Bootstrap et Tailwind CSS. J'ai également développé des
              compétences approfondies en back-end, manipulant des bases de
              données SQL et noSQL, utilisé le langage PHP, et travaillé avec
              Symfony, Doctrine, et Twig pour créer des applications robustes
              et fonctionnelles.
            </p>
            <p>
              Je me spécialise actuellement en MERN stack (MongoDB, Express, React, Node.js)
              et en intelligence artificielle avec ma formation en cours.
            </p>
          </div>

          <div class="tech-logos-container">
            <div class="tech-logo-item">
              <img src="/images/logos/html-css.png" alt="HTML-CSS" class="tech-logo" loading="lazy" />
              <span class="tech-label">HTML5/CSS</span>
            </div>
            <div class="tech-logo-item">
              <img src="/images/logos/javascript.png" alt="JS" class="tech-logo" loading="lazy" />
              <span class="tech-label">JavaScript</span>
            </div>
            <div class="tech-logo-item">
              <img src="/images/logos/typescript.jpg" alt="TS" class="tech-logo" loading="lazy" />
              <span class="tech-label">TypeScript</span>
            </div>
            <div class="tech-logo-item">
              <img src="/images/logos/react.jpg" alt="React" class="tech-logo" loading="lazy" />
              <span class="tech-label">React</span>
            </div>
            <div class="tech-logo-item">
              <img src="/images/logos/node-js.jpg" alt="Node JS" class="tech-logo" loading="lazy" />
              <span class="tech-label">Node JS</span>
            </div>
            <div class="tech-logo-item">
              <img src="/images/logos/mongodb.jpg" alt="MongoDB" class="tech-logo" loading="lazy" />
              <span class="tech-label">MongoDB</span>
            </div>
          </div>
          
          <div class="bubble-tail"></div>
        </div>
      </div>
    </section>

    <!-- Section Contact -->
    <section id="contact">
      <h2 class="section-title">Contact</h2>
      <div class="contact-container">
        <div class="profile-bubble" data-aos="zoom-in">
          <img src="/images/portfolio/chris6.jpg" alt="Christophe Mostefaoui" class="profile-picture" />
          <div class="profile-glow"></div>
        </div>

        <div class="speech-bubble" data-aos="fade-up" data-aos-delay="200">
          <p>N'hésitez pas à me contacter pour plus de renseignements. Je serais ravi de m'entretenir avec vous.</p>
        </div>

        <div class="contact-grid">
          <a href="tel:+33679088845" class="contact-card" data-aos="fade-up" data-aos-delay="200">
            <div class="contact-icon"><i class="fas fa-phone"></i></div>
            <div class="contact-content">
              <h3>Téléphone</h3>
              <p>+33 6 79 08 88 45</p>
            </div>
          </a>

          <a href="mailto:christophe.mostefaoui.dev@gmail.com" class="contact-card" data-aos="fade-up" data-aos-delay="300">
            <div class="contact-icon"><i class="fas fa-envelope"></i></div>
            <div class="contact-content">
              <h3>Email</h3>
              <p>christophe.mostefaoui.dev@gmail.com</p>
            </div>
          </a>

          <div class="contact-card" data-aos="fade-up" data-aos-delay="400">
            <div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div>
            <div class="contact-content">
              <h3>Localisation</h3>
              <p>Artix (64170), France</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>Copyright © 2025 Portfolio. Christophe Mostefaoui</p>
  </footer>
</Layout>

<script>
  // Scripts d'initialisation
  document.addEventListener('DOMContentLoaded', () => {
    console.log("Page fixée chargée");
    
    // Création des étoiles
    const container = document.getElementById("stars");
    if (container) {
      container.innerHTML = "";
      
      function createStarBatch(count, className) {
        const fragment = document.createDocumentFragment();
        for (let i = 0; i < count; i++) {
          const star = document.createElement("div");
          star.className = className;
          star.style.left = Math.random() * 100 + "%";
          star.style.top = Math.random() * 100 + "%";
          star.style.animationDuration = Math.random() * 30 + 30 + "s";
          star.style.animationDelay = Math.random() * 15 + "s";
          fragment.appendChild(star);
        }
        return fragment;
      }

      container.appendChild(createStarBatch(50, "star"));
      container.appendChild(createStarBatch(30, "star bright"));
      container.appendChild(createStarBatch(20, "star purple"));
    }

    // Initialisation AOS
    if (window.AOS) {
      AOS.init({
        duration: 800,
        once: true,
        offset: 120,
      });
    }
  });
</script>